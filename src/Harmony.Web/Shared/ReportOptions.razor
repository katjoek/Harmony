@using Harmony.Web.Models

@if (Model is not null)
{
	<!-- Field Selection -->
	<div class="mb-3">
		<label class="form-label">Velden selecteren *</label>
		<div class="d-flex flex-wrap gap-4">
			<div class="form-check">
				<input class="form-check-input" type="checkbox" @bind="Model.IncludeFullName" id="includeFullName" disabled>
				<label class="form-check-label" for="includeFullName">
					Volledige naam (verplicht)
				</label>
			</div>
			<div class="form-check">
				<input class="form-check-input" type="checkbox" checked="@Model.IncludeDateOfBirth" @onchange="@((e) => { Model.IncludeDateOfBirth = e.Value is bool value && value; OnFieldChanged(); })" id="includeDateOfBirth">
				<label class="form-check-label" for="includeDateOfBirth">
					Geboortedatum
				</label>
			</div>
			<div class="form-check">
				<input class="form-check-input" type="checkbox" checked="@Model.IncludeAddress" @onchange="@((e) => { Model.IncludeAddress = e.Value is bool value && value; OnFieldChanged(); })" id="includeAddress">
				<label class="form-check-label" for="includeAddress">
					Adres
				</label>
			</div>
			<div class="form-check">
				<input class="form-check-input" type="checkbox" checked="@Model.IncludePhoneNumber" @onchange="@((e) => { Model.IncludePhoneNumber = e.Value is bool value && value; OnFieldChanged(); })" id="includePhoneNumber">
				<label class="form-check-label" for="includePhoneNumber">
					Telefoonnummer
				</label>
			</div>
			<div class="form-check">
				<input class="form-check-input" type="checkbox" checked="@Model.IncludeEmailAddress" @onchange="@((e) => { Model.IncludeEmailAddress = e.Value is bool value && value; OnFieldChanged(); })" id="includeEmailAddress">
				<label class="form-check-label" for="includeEmailAddress">
					E-mailadres
				</label>
			</div>
		</div>
	</div>

	<!-- Output Format -->
	<div class="mb-3">
		<label class="form-label">Uitvoerformaat *</label>
		<InputSelect Value="@Model.OutputFormat" ValueChanged="@((string value) => { Model.OutputFormat = value; OnFieldChanged(); })" ValueExpression="@(() => Model.OutputFormat)" class="form-select w-auto">
			<option value="PDF">PDF</option>
			<option value="Excel">Excel</option>
		</InputSelect>
		<ValidationMessage For="@(() => Model.OutputFormat)" />
	</div>

	<!-- Orientation -->
	<div class="mb-3">
		<label class="form-label">OriÃ«ntatie *</label>
		<InputSelect Value="@Model.Orientation" ValueChanged="@((string value) => { Model.Orientation = value; OnFieldChanged(); })" ValueExpression="@(() => Model.Orientation)" class="form-select w-auto">
			<option value="Portrait">Staand (Portrait)</option>
			<option value="Landscape">Liggend (Landscape)</option>
		</InputSelect>
		<ValidationMessage For="@(() => Model.Orientation)" />
	</div>

	<!-- Sort Order -->
	<div class="mb-3">
		<label class="form-label">Sorteervolgorde *</label>
		<InputSelect Value="@Model.SortOrder" ValueChanged="@((string value) => { Model.SortOrder = value; OnFieldChanged(); })" ValueExpression="@(() => Model.SortOrder)" class="form-select w-auto">
			<option value="LastName">Achternaam</option>
			<option value="FirstName">Voornaam</option>
		</InputSelect>
		<ValidationMessage For="@(() => Model.SortOrder)" />
	</div>
}

@code {
	[Parameter]
	public ReportModel Model { get; set; } = default!;

	[Parameter]
	public EventCallback OnFieldChangedCallback { get; set; }

	private void OnFieldChanged()
	{
		OnFieldChangedCallback.InvokeAsync();
	}
}


